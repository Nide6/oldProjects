/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   moved: () => (/* binding */ moved),\n/* harmony export */   operations: () => (/* binding */ operations)\n/* harmony export */ });\n/* harmony import */ var _itemsClass__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./itemsClass */ \"./src/itemsClass.ts\");\n/* harmony import */ var _mapClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mapClass */ \"./src/mapClass.ts\");\n/* harmony import */ var _operationsClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./operationsClass */ \"./src/operationsClass.ts\");\n/**\n * @module Item modul od itemów\n * @module MapItem modul od itemów mapy\n * @module Operations takie modół do przekazywania danych między plikami i paru funkcji których nie chciało mi się tutaj pchać\n */\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\nvar operations = new _operationsClass__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\nvar items = document.getElementById('items');\nvar map = document.getElementById('map');\nvar moved = false;\nvar moving = false;\nvar x = 0;\nvar y = 0;\nvar moseMoveShit = document.getElementById('prostokat');\n/**\n * @event contextmenu pokazuje menu pod prawym klawiszem\n */\ndocument.addEventListener('contextmenu', function () {\n    document.getElementById('menu').style.display = 'flex';\n});\n/**\n * @event click chowa menu\n */\ndocument.getElementsByTagName('body')[0].addEventListener('click', function () {\n    document.getElementById('menu').style.display = 'none';\n});\n/**\n * @event mousedown dodanie zaznaczenia kilku pól\n * @param e sprawdzamy który klawisz wciśnięty\n */\ndocument.addEventListener('mousedown', function (e) {\n    console.log(e.which == 1);\n    if (!operations.paste && e.which == 1) {\n        e.preventDefault();\n        x = e.pageX;\n        y = e.pageY;\n        moseMoveShit.style.left = \"\".concat(e.pageX, \"px\");\n        moseMoveShit.style.top = \"\".concat(e.pageY, \"px\");\n        moseMoveShit.style.width = \"0px\";\n        moseMoveShit.style.height = \"0px\";\n        if (!e.ctrlKey && !e.metaKey) {\n            var selected = document.getElementsByClassName('selected');\n            Array.from(selected).forEach(function (element) {\n                element.className = 'mapItem';\n                element.style.border = '1px solid white';\n            });\n        }\n        if (x > 415 && y > 43) {\n            moving = true;\n        }\n    }\n});\n/**\n * @param e ktury klawisz wciśnięty?\n * @returns nic\n * @todo gówno a nie todo - projekt skończony\n */\ndocument.addEventListener('keydown', function (e) {\n    e.preventDefault();\n    if (e.key == 'Delete') {\n        var selected = document.getElementsByClassName('selected');\n        Array.from(selected).forEach(function (element) {\n            element.className = 'mapItem';\n            element.style.border = '1px solid white';\n        });\n        operations.selected = [];\n    }\n    else if ((e.ctrlKey && e.key == 'v') || (e.metaKey && e.key == 'v')) {\n        if (ready) {\n            operations.paste = true;\n            testCanvas.style.display = 'block';\n            operations.painting = true;\n        }\n    }\n    else if ((e.ctrlKey && e.key == 'c') || (e.metaKey && e.key == 'c')) {\n        copy();\n    }\n    else if ((e.ctrlKey && e.key == 'x') || (e.metaKey && e.key == 'x')) {\n        cut();\n    }\n    else if ((e.ctrlKey && e.key == 'y') || (e.metaKey && e.key == 'y')) {\n        redo();\n    }\n    else if ((e.ctrlKey && e.key == 'z') || (e.metaKey && e.key == 'z')) {\n        undo();\n    }\n    else if ((e.ctrlKey && e.key == 's') || (e.metaKey && e.key == 's')) {\n        document.getElementById('download').click();\n    }\n    else if ((e.ctrlKey && e.key == 'l') || (e.metaKey && e.key == 'l')) {\n        loadF();\n    }\n});\n/**\n * @event mouseup co sie stanie jak puszcze klawisz na myszce???\n * @todo sprawdź se jak to działa\n */\ndocument.addEventListener(\"mouseup\", function moseUp() {\n    if (!operations.paste) {\n        setTimeout(function () {\n            moving = false;\n            if (moved) {\n                moved = false;\n                var divs = document.getElementsByClassName('mapItem');\n                var div2 = moseMoveShit.getBoundingClientRect();\n                for (var i = 0; i < divs.length; i += 1) {\n                    var div1 = divs[i].getBoundingClientRect();\n                    if (div1.left < div2.right && div1.right > div2.left && div1.top < div2.bottom && div1.bottom > div2.top) {\n                        if (divs[i].classList.contains('selected')) {\n                            divs[i].className = 'mapItem';\n                            divs[i].style.border = '1px solid white';\n                            console.log('test');\n                            var x_1 = 1 + 49 * Number(divs[i].id.split(':')[1]);\n                            var y_1 = 1 + 49 * Number(divs[i].id.split(':')[2]);\n                            for (var i_1 = 0; i_1 < operations.selected.length; i_1 += 1) {\n                                if (operations.selected[i_1].x == x_1 && operations.selected[i_1].y == y_1) {\n                                    operations.selected.splice(i_1, 1);\n                                }\n                            }\n                        }\n                        else {\n                            divs[i].classList.add('selected');\n                            divs[i].style.border = 'none';\n                            var x_2 = 1 + 49 * Number(divs[i].id.split(':')[1]);\n                            var y_2 = 1 + 49 * Number(divs[i].id.split(':')[2]);\n                            operations.selected.push({ x: x_2, y: y_2 });\n                        }\n                        // console.log(divs[i])\n                        // console.log(divs[i].id.split(':'))\n                        // console.log(operations.selected)\n                    }\n                }\n            }\n            moseMoveShit.style.width = \"0px\";\n            moseMoveShit.style.height = \"0px\";\n        }, 10);\n    }\n});\n/**\n * @event mousemove co sie stanie jak ruszam myszką???\n */\ndocument.addEventListener('mousemove', function move(e) {\n    if (!operations.paste) {\n        if (moving) {\n            moved = true;\n            if (!e.ctrlKey && !e.metaKey) {\n                operations.selected = [];\n                // console.log('nie')\n            }\n            if (e.pageX - x > 0) {\n                moseMoveShit.style.width = \"\".concat(e.pageX - x, \"px\");\n            }\n            else {\n                if (e.pageX < 415) {\n                    moseMoveShit.style.left = \"\".concat(415, \"px\");\n                    moseMoveShit.style.width = \"\".concat(x - 415, \"px\");\n                }\n                else {\n                    moseMoveShit.style.left = \"\".concat(e.pageX, \"px\");\n                    moseMoveShit.style.width = \"\".concat(x - e.pageX, \"px\");\n                }\n            }\n            if (e.pageY - y > 0) {\n                moseMoveShit.style.top = \"\".concat(y, \"px\");\n                moseMoveShit.style.height = \"\".concat(e.pageY - y, \"px\");\n            }\n            else {\n                if (e.pageY < 43) {\n                    moseMoveShit.style.top = \"\".concat(43, \"px\");\n                    moseMoveShit.style.height = \"\".concat(y - 43, \"px\");\n                }\n                else {\n                    moseMoveShit.style.top = \"\".concat(e.pageY, \"px\");\n                    moseMoveShit.style.height = \"\".concat(y - e.pageY, \"px\");\n                }\n            }\n            var divs = document.getElementsByClassName('mapItem');\n            var div2 = moseMoveShit.getBoundingClientRect();\n            for (var i = 0; i < divs.length; i += 1) {\n                var div1 = divs[i].getBoundingClientRect();\n                if (div1.left < div2.right && div1.right > div2.left && div1.top < div2.bottom && div1.bottom > div2.top) {\n                    divs[i].style.border = 'none';\n                }\n                else if (!divs[i].classList.contains('selected')) {\n                    divs[i].style.border = '1px solid white';\n                }\n            }\n        }\n    }\n});\n/**\n * @constant itemsCanvas no canvas no, co tu więcej napisać???\n * @todo nic\n */\nvar itemsCanvas = document.createElement('canvas');\nitemsCanvas.id = 'itemsCanvas';\nitemsCanvas.width = 785;\nitemsCanvas.height = 1961;\nvar itemCtx = itemsCanvas.getContext('2d');\nitemCtx.rect(0, 0, 785, 1961);\nitemCtx.fillStyle = 'black';\nitemCtx.fill();\n/**\n * @function itemsGenerate no generujemy plansze z opcjami gównienek do narysowania\n * @todo zrób se kawe\n */\nfunction itemsGenerate() {\n    return __awaiter(this, void 0, void 0, function () {\n        var img;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, document.getElementById('sprite')];\n                case 1:\n                    img = _a.sent();\n                    setTimeout(function () {\n                        for (var i = 0; i < 20; i += 1) {\n                            for (var j = 0; j < 16; j += 1) {\n                                debugger;\n                                var itemElem1 = new _itemsClass__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n                                itemElem1.setImg(img);\n                                itemElem1.setPosition({ x: j, y: i });\n                                itemElem1.setCanvasPosition({ x: 1 + 48 * j, y: 1 + 48 * i });\n                                var itemElem2 = new _itemsClass__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n                                itemElem2.setPosition({ x: j, y: i + 20 });\n                                itemElem2.setImg(img);\n                                itemElem2.setCanvasPosition({ x: 1 + 48 * (j + 16), y: 1 + 48 * i });\n                                if (i == 19) {\n                                    itemCtx.drawImage(img, 1 + 48 * j, 1 + 48 * i, 47, 46, 1 + 48 * j + 1 * j, 1 + 48 * i + 1 * i, 47, 47);\n                                }\n                                else {\n                                    itemCtx.drawImage(img, 1 + 48 * j, 1 + 48 * i, 47, 47, 1 + 48 * j + 1 * j, 1 + 48 * i + 1 * i, 47, 47);\n                                }\n                                if (i == 19) {\n                                    if (j == 15) {\n                                        itemCtx.drawImage(img, 1 + 48 * (j + 16), 1 + 48 * i, 46, 46, 1 + 48 * j + 1 * j, 1 + 48 * (i + 20) + 1 * (i + 20), 47, 47);\n                                    }\n                                    else {\n                                        itemCtx.drawImage(img, 1 + 48 * (j + 16), 1 + 48 * i, 47, 46, 1 + 48 * j + 1 * j, 1 + 48 * (i + 20) + 1 * (i + 20), 47, 47);\n                                    }\n                                }\n                                else {\n                                    if (j == 15) {\n                                        itemCtx.drawImage(img, 1 + 48 * (j + 16), 1 + 48 * i, 46, 47, 1 + 48 * j + 1 * j, 1 + 48 * (i + 20) + 1 * (i + 20), 47, 47);\n                                    }\n                                    else {\n                                        itemCtx.drawImage(img, 1 + 48 * (j + 16), 1 + 48 * i, 47, 47, 1 + 48 * j + 1 * j, 1 + 48 * (i + 20) + 1 * (i + 20), 47, 47);\n                                    }\n                                }\n                            }\n                        }\n                    }, 0);\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nitemsGenerate();\nitems.appendChild(itemsCanvas);\ndocument.getElementById('download').addEventListener('click', function () {\n    document.getElementById('menu').style.display = 'none';\n});\nvar mapCanvas = document.getElementById('mapCanvas');\nmapCanvas.id = 'mapCanvas';\nmapCanvas.width = 736;\nmapCanvas.height = 980;\nvar mapCtx = mapCanvas.getContext('2d');\nmapCtx.rect(0, 0, 736, 980);\nmapCtx.fillStyle = 'black';\nmapCtx.fill();\nfunction mapGenerate() {\n    return __awaiter(this, void 0, void 0, function () {\n        var img, i, j, item;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, document.getElementById('sprite')];\n                case 1:\n                    img = _a.sent();\n                    for (i = 0; i < 20; i += 1) {\n                        for (j = 0; j < 15; j += 1) {\n                            item = new _mapClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\n                            item.setImg(img);\n                            item.draw();\n                            item.setPosition({ x: j, y: i });\n                        }\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nmapGenerate();\n// map.appendChild(mapCanvas)\nconsole.log('selected', operations.selected);\nvar downloader = document.getElementById('download');\nmapCanvas.toBlob(function (blob) {\n    var url = URL.createObjectURL(blob);\n    downloader.href = url;\n    downloader.download = 'mapa.png';\n});\nvar load = document.getElementById('load');\nvar file = document.getElementById('file');\nfile.accept = 'image/png';\nfile.addEventListener('change', function () {\n    console.log(file.files[0]);\n    var img = new Image();\n    img.onload = function () {\n        mapCtx.drawImage(img, 0, 0);\n        mapCanvas.toBlob(function (blob) {\n            var url = URL.createObjectURL(blob);\n            var downloader = document.getElementById('download');\n            downloader.href = url;\n            downloader.download = 'mapa.png';\n        });\n    };\n    img.src = window.URL.createObjectURL(file.files[0]);\n    operations.addChangeLink(window.URL.createObjectURL(file.files[0]));\n});\nload.addEventListener('click', loadF);\nfunction loadF() {\n    document.getElementById('menu').style.display = 'none';\n    file.click();\n}\n//undo redo\n// https://www.codicode.com/art/undo_and_redo_to_the_html5_canvas.aspx\ndocument.getElementById('undo').addEventListener('click', undo);\nfunction undo() {\n    document.getElementById('menu').style.display = 'none';\n    console.log(operations.change);\n    operations.arraycheck();\n    if (operations.change > 0) {\n        operations.change -= 1;\n        var img_1 = new Image();\n        img_1.onload = function () {\n            mapCtx.drawImage(img_1, 0, 0);\n            mapCanvas.toBlob(function (blob) {\n                var url = URL.createObjectURL(blob);\n                var downloader = document.getElementById('download');\n                downloader.href = url;\n                downloader.download = 'mapa.png';\n            });\n        };\n        img_1.src = operations.chngArray[operations.change];\n    }\n    else if (operations.change == 0) {\n        operations.change -= 1;\n        mapCtx.rect(0, 0, 736, 980);\n        mapCtx.fillStyle = 'black';\n        mapCtx.fill();\n        mapCanvas.toBlob(function (blob) {\n            var url = URL.createObjectURL(blob);\n            var downloader = document.getElementById('download');\n            downloader.href = url;\n            downloader.download = 'mapa.png';\n        });\n    }\n}\ndocument.getElementById('redo').addEventListener('click', redo);\nfunction redo() {\n    document.getElementById('menu').style.display = 'none';\n    console.log('redo');\n    operations.arraycheck();\n    if (operations.change < operations.chngArray.length - 1) {\n        operations.change += 1;\n        var img_2 = new Image();\n        img_2.onload = function () {\n            mapCtx.drawImage(img_2, 0, 0);\n            mapCanvas.toBlob(function (blob) {\n                var url = URL.createObjectURL(blob);\n                var downloader = document.getElementById('download');\n                downloader.href = url;\n                downloader.download = 'mapa.png';\n            });\n        };\n        img_2.src = operations.chngArray[operations.change];\n    }\n}\nvar testCanvas = document.getElementById('testCanvas');\ntestCanvas.id = 'testCanvas';\ntestCanvas.width = 736;\ntestCanvas.height = 980;\nvar testCtx = testCanvas.getContext('2d');\n// testCtx.rect(0, 0, 736, 980)\n// testCtx.fillStyle = 'red'\n// testCtx.fill()\nvar ready = false;\ndocument.getElementById('copy').addEventListener('click', copy);\nfunction copy() {\n    document.getElementById('menu').style.display = 'none';\n    console.log('copy');\n    if (operations.selected.length > 0) {\n        var ids_1 = [];\n        ready = true;\n        testCtx.clearRect(0, 0, testCanvas.width, testCanvas.height);\n        var imgData = mapCanvas.toDataURL('image/png');\n        var newImage_1 = new Image;\n        var num_1 = operations.selected.length;\n        var x_3 = Math.min.apply(Math, operations.selected.map(function (elem) { return elem.x; }));\n        var y_3 = Math.min.apply(Math, operations.selected.map(function (elem) { return elem.y; }));\n        var idX_1 = (Math.min.apply(Math, operations.selected.map(function (elem) { return elem.x; })) - 1) / 49;\n        var idY_1 = (Math.min.apply(Math, operations.selected.map(function (elem) { return elem.y; })) - 1) / 49;\n        console.log(\"test1\", idX_1, idY_1);\n        var pom_1 = operations.selected;\n        newImage_1.onload = function () {\n            for (var i = 0; i < num_1; i += 1) {\n                console.log(\"test\", operations.selected);\n                testCtx.drawImage(newImage_1, pom_1[i].x, pom_1[i].y, 47, 47, pom_1[i].x - x_3, pom_1[i].y - y_3, 47, 47);\n                ids_1.push({ x: (pom_1[i].x - 1) / 49 - idX_1, y: (pom_1[i].y - 1) / 49 - idY_1 });\n            }\n            operations.ids = ids_1;\n        };\n        newImage_1.src = imgData;\n        console.log(\"testg\", operations.selected);\n        // let copied = []\n        // for(let i=0; i<operations.selected.length; i+=1){\n        //     copied.push({x:operations.selected[i].x-x,y:operations.selected[i].y-y})\n        // }\n        var selected = document.getElementsByClassName('selected');\n        Array.from(selected).forEach(function (element) {\n            element.className = 'mapItem';\n            element.style.border = '1px solid white';\n        });\n        /**\n         * @constant copied huj wie coto jest ale bez teg sie wypierdala\n         */\n        //console.log(copied) //jak to usune to sie wypierdoli\n        console.log('hjhh');\n        operations.selected = [];\n    }\n}\ndocument.getElementById('cut').addEventListener('click', cut);\nfunction cut() {\n    return __awaiter(this, void 0, void 0, function () {\n        var ids_2, imgData, newImage_2, num_2, x_4, y_4, idX_2, idY_2, img_3, pom_2, selected;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    document.getElementById('menu').style.display = 'none';\n                    console.log('cut');\n                    if (!(operations.selected.length > 0)) return [3 /*break*/, 2];\n                    ids_2 = [];\n                    ready = true;\n                    testCtx.clearRect(0, 0, testCanvas.width, testCanvas.height);\n                    imgData = mapCanvas.toDataURL('image/png');\n                    newImage_2 = new Image;\n                    num_2 = operations.selected.length;\n                    x_4 = Math.min.apply(Math, operations.selected.map(function (elem) { return elem.x; }));\n                    y_4 = Math.min.apply(Math, operations.selected.map(function (elem) { return elem.y; }));\n                    idX_2 = (Math.min.apply(Math, operations.selected.map(function (elem) { return elem.x; })) - 1) / 49;\n                    idY_2 = (Math.min.apply(Math, operations.selected.map(function (elem) { return elem.y; })) - 1) / 49;\n                    return [4 /*yield*/, document.getElementById('sprite')];\n                case 1:\n                    img_3 = _a.sent();\n                    pom_2 = operations.selected;\n                    newImage_2.onload = function () {\n                        for (var i = 0; i < num_2; i += 1) {\n                            testCtx.drawImage(newImage_2, pom_2[i].x, pom_2[i].y, 47, 47, pom_2[i].x - x_4, pom_2[i].y - y_4, 47, 47);\n                            mapCtx.drawImage(img_3, 2, 2, 9, 9, pom_2[i].x, pom_2[i].y, 47, 47);\n                            ids_2.push({ x: (pom_2[i].x - 1) / 49 - idX_2, y: (pom_2[i].y - 1) / 49 - idY_2 });\n                        }\n                        operations.addChange();\n                        operations.ids = ids_2;\n                        mapCanvas.toBlob(function (blob) {\n                            var url = URL.createObjectURL(blob);\n                            var downloader = document.getElementById('download');\n                            downloader.href = url;\n                            downloader.download = 'mapa.png';\n                        });\n                    };\n                    newImage_2.src = imgData;\n                    console.log(operations.selected);\n                    selected = document.getElementsByClassName('selected');\n                    Array.from(selected).forEach(function (element) {\n                        element.className = 'mapItem';\n                        element.style.border = '1px solid white';\n                    });\n                    /**\n                     * @constant copied huj wie coto jest ale bez teg sie wypierdala\n                     */\n                    //console.log(copied) //jak to usune to sie wypierdoli\n                    operations.selected = [];\n                    _a.label = 2;\n                case 2: return [2 /*return*/];\n            }\n        });\n    });\n}\ndocument.getElementById('paste').addEventListener('click', function () {\n    document.getElementById('menu').style.display = 'none';\n    if (ready) {\n        operations.paste = true;\n        testCanvas.style.display = 'block';\n        operations.painting = true;\n    }\n});\n\n\n//# sourceURL=webpack://generator_map/./src/index.ts?");

/***/ }),

/***/ "./src/itemsClass.ts":
/*!***************************!*\
  !*** ./src/itemsClass.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index */ \"./src/index.ts\");\n\n/**\n * @class Item to clasa odpowiadająca za item\n * @param canvas to jest canvas\n * @param img to jest grafika\n * @param ctx to jest takie gówno do renderowania\n * @param map to jest div o id map\n * @param elem to jest div przypisany do tej klasy\n * @param x to jest cyfra\n * @param y to jest cyfra\n * @param auto zakładam, że mercedes to to nie jest\n */\nvar Item = /** @class */ (function () {\n    function Item() {\n        var _this = this;\n        this.auto = document.getElementById('auto');\n        this.canvas = document.getElementById('mapCanvas');\n        this.ctx = this.canvas.getContext('2d');\n        this.map = document.getElementById('items');\n        this.elem = document.createElement('div');\n        this.elem.style.backgroundColor = 'black';\n        this.elem.style.position = 'absolute';\n        this.elem.style.opacity = '0.6';\n        this.elem.className = 'item';\n        this.elem.style.border = '1px solid white';\n        this.elem.addEventListener('mouseenter', function () {\n            this.style.background = 'none';\n            this.style.border = 'none';\n        });\n        this.elem.addEventListener('mouseleave', function () {\n            this.style.backgroundColor = 'black';\n            this.style.border = '1px solid white';\n        });\n        this.elem.addEventListener('click', function () {\n            console.log(_index__WEBPACK_IMPORTED_MODULE_0__.operations.selected);\n            for (var i = 0; i < _index__WEBPACK_IMPORTED_MODULE_0__.operations.selected.length; i += 1) {\n                _this.ctx.drawImage(_this.img, _this.x, _this.y, 47, 47, _index__WEBPACK_IMPORTED_MODULE_0__.operations.selected[i].x, _index__WEBPACK_IMPORTED_MODULE_0__.operations.selected[i].y, 47, 47);\n            }\n            var selected = document.getElementsByClassName('selected');\n            Array.from(selected).forEach(function (element) {\n                element.className = 'mapItem';\n                element.style.border = '1px solid white';\n            });\n            var test = _index__WEBPACK_IMPORTED_MODULE_0__.operations.selected[_index__WEBPACK_IMPORTED_MODULE_0__.operations.selected.length - 1];\n            _index__WEBPACK_IMPORTED_MODULE_0__.operations.selected = [];\n            if (test && _this.auto.checked) {\n                var id = '';\n                if ((test.x - 1) / 49 == 14 && (test.y - 1) / 49 == 19) {\n                    id = \"map:\".concat((test.x - 1) / 49, \":\").concat((test.y - 1) / 49);\n                }\n                else if ((test.x - 1) / 49 == 14) {\n                    id = \"map:0:\".concat((test.y - 1) / 49 + 1);\n                }\n                else {\n                    id = \"map:\".concat((test.x - 1) / 49 + 1, \":\").concat((test.y - 1) / 49);\n                }\n                console.log(id);\n                document.getElementById(id).click();\n                document.getElementById(id).style.border = 'none';\n            }\n            _this.canvas.toBlob(function (blob) {\n                var url = URL.createObjectURL(blob);\n                var downloader = document.getElementById('download');\n                downloader.href = url;\n                downloader.download = 'mapa.png';\n            });\n            _index__WEBPACK_IMPORTED_MODULE_0__.operations.addChange();\n        });\n        this.map.appendChild(this.elem);\n    }\n    Item.prototype.setPosition = function (punkt) {\n        this.elem.style.width = '24.2px';\n        this.elem.style.height = '24.3px';\n        this.elem.style.left = \"\".concat(5.6 + punkt.x * 24 + punkt.x * 0.96, \"px\");\n        this.elem.style.top = \"\".concat(43 + punkt.y * 24 + punkt.y * 0.96, \"px\");\n        this.elem.id = \"item:\".concat(punkt.x, \":\").concat(punkt.y);\n    };\n    /**\n     * @function setCanvasPosition czemu tego nie połączyć z setPosition(), nie wiem, chociaż wiem, bo mi sie nie chce\n     * @param punkt punk to punkt ale nie taki na mapie\n     */\n    Item.prototype.setCanvasPosition = function (punkt) {\n        this.x = punkt.x;\n        this.y = punkt.y;\n    };\n    Item.prototype.setImg = function (img) {\n        this.img = img;\n    };\n    return Item;\n}());\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Item);\n\n\n//# sourceURL=webpack://generator_map/./src/itemsClass.ts?");

/***/ }),

/***/ "./src/mapClass.ts":
/*!*************************!*\
  !*** ./src/mapClass.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index */ \"./src/index.ts\");\n\n/**\n * @class MapItem jest klasą\n * @todo zajeb głową o ściane\n */\nvar MapItem = /** @class */ (function () {\n    function MapItem() {\n        var _this = this;\n        this.canvas = document.getElementById('mapCanvas');\n        this.ctx = this.canvas.getContext('2d');\n        this.map = document.getElementById('map');\n        this.elem = document.createElement('div');\n        this.elem.style.position = 'absolute';\n        this.elem.className = 'mapItem';\n        this.elem.style.border = '1px solid white';\n        this.elem.addEventListener('mousemove', function () {\n            this.style.border = 'none';\n            var testCanvas = document.getElementById('testCanvas');\n            testCanvas.style.top = this.style.top;\n            testCanvas.style.left = this.style.left;\n            // console.log(this.id.split(':'))\n            if (_index__WEBPACK_IMPORTED_MODULE_0__.operations.painting) {\n                console.log('painting');\n                var reds = document.getElementsByClassName('mapItem');\n                for (var i = 0; i < reds.length; i += 1) {\n                    reds[i].style.border = '1px solid white';\n                }\n                for (var i = 0; i < _index__WEBPACK_IMPORTED_MODULE_0__.operations.ids.length; i += 1) {\n                    var elem = document.getElementById(\"map:\".concat(_index__WEBPACK_IMPORTED_MODULE_0__.operations.ids[i].x + Number(this.id.split(':')[1]), \":\").concat(_index__WEBPACK_IMPORTED_MODULE_0__.operations.ids[i].y + Number(this.id.split(':')[2])));\n                    if (elem) {\n                        elem.style.border = '1px solid red';\n                    }\n                }\n            }\n            else {\n                console.log('dupa');\n            }\n        });\n        this.elem.addEventListener('mouseleave', function () {\n            if (this.className == 'mapItem') {\n                this.style.border = '1px solid white';\n            }\n        });\n        this.elem.addEventListener('click', function (e) {\n            if (_index__WEBPACK_IMPORTED_MODULE_0__.operations.paste) {\n                _index__WEBPACK_IMPORTED_MODULE_0__.operations.paste = false;\n                var testCanvas = document.getElementById('testCanvas');\n                testCanvas.style.display = 'none';\n                var newImage_1 = new Image;\n                newImage_1.onload = function () {\n                    _this.ctx.drawImage(newImage_1, _this.x, _this.y);\n                    _index__WEBPACK_IMPORTED_MODULE_0__.operations.addChange();\n                    _this.canvas.toBlob(function (blob) {\n                        var url = URL.createObjectURL(blob);\n                        var downloader = document.getElementById('download');\n                        downloader.href = url;\n                        downloader.download = 'mapa.png';\n                    });\n                    _index__WEBPACK_IMPORTED_MODULE_0__.operations.painting = false;\n                    var selected = document.getElementsByClassName('mapItem');\n                    Array.from(selected).forEach(function (element) {\n                        element.className = 'mapItem';\n                        element.style.border = '1px solid white';\n                    });\n                };\n                newImage_1.src = testCanvas.toDataURL('image/png');\n            }\n            else if (!_index__WEBPACK_IMPORTED_MODULE_0__.moved) {\n                console.log('click');\n                if (e.ctrlKey || e.metaKey) {\n                    if (_this.elem.classList.contains('selected')) {\n                        _this.elem.className = 'mapItem';\n                        _this.elem.style.border = '1px solid white';\n                        for (var i = 0; i < _index__WEBPACK_IMPORTED_MODULE_0__.operations.selected.length; i += 1) {\n                            if (_index__WEBPACK_IMPORTED_MODULE_0__.operations.selected[i].x == _this.x && _index__WEBPACK_IMPORTED_MODULE_0__.operations.selected[i].y == _this.y) {\n                                _index__WEBPACK_IMPORTED_MODULE_0__.operations.selected.splice(i, 1);\n                            }\n                        }\n                    }\n                    else {\n                        _index__WEBPACK_IMPORTED_MODULE_0__.operations.selected.push({ x: _this.x, y: _this.y });\n                        _this.elem.className = \"selected\";\n                    }\n                }\n                else {\n                    _index__WEBPACK_IMPORTED_MODULE_0__.operations.selected = [{ x: _this.x, y: _this.y }];\n                    var selected = document.getElementsByClassName('selected');\n                    Array.from(selected).forEach(function (element) {\n                        element.className = 'mapItem';\n                        element.style.border = '1px solid white';\n                    });\n                    _this.elem.className = \"selected\";\n                }\n                console.log(Number(_this.elem.id.split(':')[1]), Number(_this.elem.id.split(':')[2]));\n            }\n        });\n        this.map.appendChild(this.elem);\n    }\n    MapItem.prototype.setPosition = function (punkt) {\n        this.elem.style.width = '24.2px';\n        this.elem.style.height = '24.3px';\n        this.elem.style.left = \"\".concat(5.6 + punkt.x * 24 + punkt.x * 0.96, \"px\");\n        this.elem.style.top = \"\".concat(43 + punkt.y * 24 + punkt.y * 0.96, \"px\");\n        this.elem.id = \"map:\".concat(punkt.x, \":\").concat(punkt.y);\n        this.x = 1 + 48 * punkt.x + punkt.x;\n        this.y = 1 + 48 * punkt.y + punkt.y;\n        console.log(this.x, this.y);\n    };\n    MapItem.prototype.setImg = function (img) {\n        this.img = img;\n    };\n    /**\n     * @function draw huj wie po co to jest ale wole nie usówać\n     */\n    MapItem.prototype.draw = function () {\n        // this.ctx.drawImage(this.img,1,1,47,47,1079,1863,47,47)\n    };\n    return MapItem;\n}());\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MapItem);\n\n\n//# sourceURL=webpack://generator_map/./src/mapClass.ts?");

/***/ }),

/***/ "./src/operationsClass.ts":
/*!********************************!*\
  !*** ./src/operationsClass.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * @class Operations odpowiada za operacje i dane przekazywane między plikami\n * @param selected lista zaznaczonych pól\n * @param change numer zmiany\n * @param paste informacja czy wklejamy coś\n */\nvar Operations = /** @class */ (function () {\n    function Operations() {\n        this.painting = false;\n        this.ids = [];\n        this.paste = false;\n        this.selected = [];\n        this.chngArray = [];\n        this.change = -1;\n        this.canvas = document.getElementById('mapCanvas');\n        this.ctx = this.canvas.getContext('2d');\n    }\n    Operations.prototype.addChange = function () {\n        var _this = this;\n        this.change += 1;\n        while (this.change < this.chngArray.length) {\n            this.chngArray.pop();\n        }\n        this.canvas.toBlob(function (blob) {\n            var url = URL.createObjectURL(blob);\n            _this.chngArray.push(url);\n        });\n    };\n    Operations.prototype.addChangeLink = function (link) {\n        this.change += 1;\n        while (this.change < this.chngArray.length) {\n            this.chngArray.pop();\n        }\n        this.chngArray.push(link);\n    };\n    /**\n     * @function arraycheck takie gówno do sprawdzania zawartości tablicy\n     */\n    Operations.prototype.arraycheck = function () {\n        console.log(this.chngArray);\n    };\n    return Operations;\n}());\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Operations);\n\n\n//# sourceURL=webpack://generator_map/./src/operationsClass.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.ts");
/******/ 	
/******/ })()
;